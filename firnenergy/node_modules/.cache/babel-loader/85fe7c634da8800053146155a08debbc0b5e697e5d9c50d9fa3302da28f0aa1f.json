{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Dirk Verdoodt/Documents/eniris data/react website/firnenergy/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Dirk Verdoodt/Documents/eniris data/react website/firnenergy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Dirk Verdoodt/Documents/eniris data/react website/firnenergy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./navbar.css';import Logo from'../../Images/firnenergyLogo.png';import globeIcon from'../../Images/globe_icon.png';import userIcon from'../../Images/user_icon.png';import infoIcon from\"../../Images/info_icon.png\";import Authenticate from\"../../api/authenticate\";import{useEffect,useState}from'react';import{Link}from\"react-router-dom\";import User from'../../api/user';import{useNavigate}from'react-router-dom';import userIconBlack from'../../Images/6522516.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Navbar=function Navbar(_ref){var darkMode=_ref.darkMode,toggleDarkMode=_ref.toggleDarkMode;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),logout=_useState2[0],setLogout=_useState2[1];var userApi=User();var navigate=useNavigate();var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];// useEffect(async () => {\n//     // const user = await userApi.GetUsername();\n//     // console.log(user)\n//     // setUsername(user.data)\n// }, []);\nvar token=localStorage.getItem('jwtToken');var getUsername=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return userApi.GetUsername(token);case 3:user=_context.sent;setUsername(user.data.user.name.split('@')[0]);_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);//token expired or invalid navigate to Login\nlocalStorage.removeItem('jwtToken');navigate('/');case 11:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function getUsername(){return _ref2.apply(this,arguments);};}();var handleLogout=function handleLogout(){setLogout(true);};var handleBacklogout=function handleBacklogout(){setLogout(false);};var handleDefLogout=function handleDefLogout(){setLogout(false);localStorage.removeItem('jwtToken');navigate('/');};useEffect(function(){getUsername();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[logout&&/*#__PURE__*/_jsx(\"div\",{className:\"Logout-Background\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"logout-Container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logout-Label\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Do you wish to logout?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"logout-Label-username\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{width:40,src:userIconBlack,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{children:username})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"logout-button-Container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"logout-button\",onClick:handleDefLogout,children:\"Logout\"}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-button\",onClick:handleBacklogout,children:\"Back\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"NavbarContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"LogoContainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"Logo\",children:/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"logo_icon\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"PageContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Page selected\",children:\"Home\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Page\",children:\"About us\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Page\",children:\"Feature\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Page\",children:\"Contact\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"InfoContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:globeIcon,alt:\"globe_Icon\"}),\"english\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"NavbarAccount\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"AccountLink\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(\"img\",{style:{paddingRight:\"10px\"},src:userIcon,alt:\"\"}),username]})}),/*#__PURE__*/_jsx(\"div\",{className:\"PageDivider\"})]})]}),/*#__PURE__*/_jsx(\"div\",{})]});};export default Navbar;","map":{"version":3,"names":["Logo","globeIcon","userIcon","infoIcon","Authenticate","useEffect","useState","Link","User","useNavigate","userIconBlack","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","_ref","darkMode","toggleDarkMode","_useState","_useState2","_slicedToArray","logout","setLogout","userApi","navigate","_useState3","_useState4","username","setUsername","token","localStorage","getItem","getUsername","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","user","wrap","_callee$","_context","prev","next","GetUsername","sent","data","name","split","t0","removeItem","stop","apply","arguments","handleLogout","handleBacklogout","handleDefLogout","children","className","width","src","alt","onClick","style","paddingRight"],"sources":["C:/Users/Dirk Verdoodt/Documents/eniris data/react website/firnenergy/src/components/Navbar/navbar.jsx"],"sourcesContent":["import './navbar.css'\r\nimport Logo from '../../Images/firnenergyLogo.png'\r\nimport globeIcon from '../../Images/globe_icon.png'\r\nimport userIcon from '../../Images/user_icon.png'\r\nimport infoIcon from \"../../Images/info_icon.png\"\r\nimport Authenticate from \"../../api/authenticate\"\r\nimport { useEffect, useState } from 'react'\r\nimport {Link} from \"react-router-dom\";\r\nimport User from '../../api/user';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport userIconBlack from '../../Images/6522516.png';\r\n\r\nconst Navbar = ({ darkMode, toggleDarkMode }) => {\r\n    const [logout, setLogout] = useState(false);\r\n    const userApi = User();\r\n    const navigate = useNavigate();\r\n    const [username, setUsername] = useState('');\r\n\r\n    // useEffect(async () => {\r\n        \r\n    //     // const user = await userApi.GetUsername();\r\n    //     // console.log(user)\r\n    //     // setUsername(user.data)\r\n    // }, []);\r\n\r\n    const token = localStorage.getItem('jwtToken');\r\n\r\n    const getUsername = async() => {\r\n        try {\r\n            const user = await userApi.GetUsername(token);\r\n            setUsername(user.data.user.name.split('@')[0]);\r\n        } catch (error) {\r\n            //token expired or invalid navigate to Login\r\n            localStorage.removeItem('jwtToken');\r\n            navigate('/');\r\n        }\r\n    }\r\n   \r\n    const handleLogout = () => {\r\n        setLogout(true);\r\n    }\r\n\r\n    const handleBacklogout = () => {\r\n        setLogout(false);\r\n    }\r\n\r\n    const handleDefLogout = () => {\r\n        setLogout(false);\r\n        localStorage.removeItem('jwtToken');\r\n        navigate('/');\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        getUsername();\r\n    }, []);\r\n    \r\n    \r\n    return (\r\n        <>\r\n            {logout && (<div className='Logout-Background'><div className='logout-Container'><div className='logout-Label'><div>Do you wish to logout?</div><div className='logout-Label-username'><div><img width={40} src={userIconBlack} alt=\"\" /></div><div>{username}</div></div></div><div className='logout-button-Container'><button className='logout-button' onClick={handleDefLogout}>Logout</button><button className='logout-button' onClick={handleBacklogout}>Back</button></div></div></div>) }\r\n            <div className='NavbarContainer'>\r\n                <div className='LogoContainer'>\r\n                    <div className='Logo'>\r\n                        <img src={Logo} alt='logo_icon' />\r\n                    </div>\r\n                </div>\r\n                <div className='PageContainer'>\r\n                    <div className='Page selected'>Home</div>\r\n                    <div className='Page'>About us</div>\r\n                    <div className='Page'>Feature</div>\r\n                    <div className='Page'>Contact</div>\r\n                </div>\r\n                <div className='InfoContainer'>\r\n                    <div><img src={globeIcon} alt=\"globe_Icon\" />english</div>\r\n                    <div className='NavbarAccount'><button className='AccountLink' onClick={handleLogout}><img style={{paddingRight: \"10px\"}} src={userIcon} alt=\"\" />{username}</button></div>\r\n                    <div className='PageDivider'></div>\r\n                    {/* <div className='Navbar_Info'><img src={infoIcon} alt=\"\" /></div> */}\r\n                    {/* <div><input type='checkbox' checked={darkMode} onChange={toggleDarkMode}/><span className='slider round'></span></div> */}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                {/* <button onClick={Login}>Login</button> */}\r\n            </div>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default Navbar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}