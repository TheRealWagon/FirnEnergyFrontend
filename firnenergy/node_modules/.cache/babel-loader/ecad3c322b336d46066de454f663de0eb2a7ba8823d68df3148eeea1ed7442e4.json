{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Dirk Verdoodt/Documents/eniris data/react website/firnenergy/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Dirk Verdoodt/Documents/eniris data/react website/firnenergy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useEffect}from'react';import{usePython}from'react-py';import axios from'axios';var baseURL=\"https://authentication.eniris.be/\";var Authenticate=function Authenticate(){var login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(username,password){var data,config,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(\"Login Attempt\");data=JSON.stringify({\"username\":username,\"password\":password});config={method:'post',maxBodyLength:Infinity,url:'https://authentication.eniris.be/auth/login',headers:{'Content-Type':'application/json'},data:data};_context.prev=3;_context.next=6;return axios.post(config.url,data,config);case 6:response=_context.sent;return _context.abrupt(\"return\",response.data);case 10:_context.prev=10;_context.t0=_context[\"catch\"](3);console.log(_context.t0);throw _context.t0;case 14:case\"end\":return _context.stop();}},_callee,null,[[3,10]]);}));return function login(_x,_x2){return _ref.apply(this,arguments);};}();var logout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(token){var data,config,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:console.log(\"Logout Attempt\");data='';config={method:'post',maxBodyLength:Infinity,url:'https://authentication.eniris.be/auth/logout',headers:{'Authorization':\"Bearer \".concat(token)},data:data};_context2.prev=3;_context2.next=6;return axios.post(config.url,data,config);case 6:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](3);console.log(_context2.t0);// throw error; // Rethrow the error to handle it in HandleLoginEvent if needed\ncase 13:case\"end\":return _context2.stop();}},_callee2,null,[[3,10]]);}));return function logout(_x3){return _ref2.apply(this,arguments);};}();var Accesstoken=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(token){var data,config,response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:console.log(\"AccessToken Retrieve\");data='';config={method:'get',maxBodyLength:Infinity,url:'https://authentication.eniris.be/auth/accesstoken',headers:{'Authorization':\"Bearer \".concat(token)},data:data};_context3.prev=3;_context3.next=6;return axios(config);case 6:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](3);console.log(_context3.t0);// throw error; // Rethrow the error to handle it in HandleLoginEvent if needed\ncase 13:case\"end\":return _context3.stop();}},_callee3,null,[[3,10]]);}));return function Accesstoken(_x4){return _ref3.apply(this,arguments);};}();var Devices=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(accessToken){var data,corsProxy,config,response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:console.log(\"Devices Retrieve\");data=JSON.stringify([{}]);corsProxy='https://cors-anywhere.herokuapp.com/';config={method:'get',maxBodyLength:Infinity,url:'https://api.eniris.be/v1/device?id=137206',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(accessToken)},data:data};_context4.prev=4;_context4.next=7;return axios.get(corsProxy+config.url,config);case 7:response=_context4.sent;return _context4.abrupt(\"return\",response);case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](4);console.log(_context4.t0);throw _context4.t0;case 15:case\"end\":return _context4.stop();}},_callee4,null,[[4,11]]);}));return function Devices(_x5){return _ref4.apply(this,arguments);};}();return{login:login,logout:logout,Accesstoken:Accesstoken,Devices:Devices};};export default Authenticate;","map":{"version":3,"names":["useEffect","usePython","axios","baseURL","Authenticate","login","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","username","password","data","config","response","wrap","_callee$","_context","prev","next","console","log","JSON","stringify","method","maxBodyLength","Infinity","url","headers","post","sent","abrupt","t0","stop","_x","_x2","apply","arguments","logout","_ref2","_callee2","token","_callee2$","_context2","concat","_x3","Accesstoken","_ref3","_callee3","_callee3$","_context3","_x4","Devices","_ref4","_callee4","accessToken","corsProxy","_callee4$","_context4","get","_x5"],"sources":["C:/Users/Dirk Verdoodt/Documents/eniris data/react website/firnenergy/src/api/authenticate.js"],"sourcesContent":["import { useEffect } from 'react';\r\nimport { usePython } from 'react-py'\r\nimport axios from 'axios';\r\n\r\nconst baseURL = \"https://authentication.eniris.be/\";\r\n\r\nconst Authenticate = () => {\r\n\r\n    const login = async (username, password) => {    \r\n        console.log(\"Login Attempt\")\r\n        let data = JSON.stringify({\r\n            \"username\": username,\r\n            \"password\": password\r\n        });\r\n\r\n        let config = {\r\n        method: 'post',\r\n        maxBodyLength: Infinity,\r\n        url: 'https://authentication.eniris.be/auth/login',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        data : data\r\n        };\r\n\r\n        try {\r\n            const response = await axios.post(config.url, data, config);\r\n            return response.data; // Return the data after successful response\r\n        } catch (error) {\r\n            console.log(error);\r\n            throw error; // Rethrow the error to handle it in HandleLoginEvent if needed\r\n        }\r\n\r\n    }\r\n\r\n    const logout = async (token) => {    \r\n        console.log(\"Logout Attempt\")\r\n        let data = '';\r\n\r\n        let config = {\r\n        method: 'post',\r\n        maxBodyLength: Infinity,\r\n        url: 'https://authentication.eniris.be/auth/logout',\r\n        headers: { \r\n            'Authorization': `Bearer ${token}`\r\n        },\r\n        data : data\r\n        };\r\n\r\n        try {\r\n            const response = await axios.post(config.url, data, config);\r\n            return response.data; // Return the data after successful response\r\n        } catch (error) {\r\n            console.log(error);\r\n            // throw error; // Rethrow the error to handle it in HandleLoginEvent if needed\r\n        }\r\n\r\n    }\r\n\r\n    const Accesstoken = async (token) => {    \r\n        console.log(\"AccessToken Retrieve\")\r\n        let data = '';\r\n\r\n        let config = {\r\n        method: 'get',\r\n        maxBodyLength: Infinity,\r\n        url: 'https://authentication.eniris.be/auth/accesstoken',\r\n        headers: { \r\n            'Authorization': `Bearer ${token}`\r\n        },\r\n        data : data\r\n        };\r\n\r\n        try {\r\n            const response = await axios(config);\r\n            return response.data; // Return the data after successful response\r\n          } catch (error) {\r\n            console.log(error);\r\n            // throw error; // Rethrow the error to handle it in HandleLoginEvent if needed\r\n          }\r\n\r\n    }\r\n\r\n    const Devices = async (accessToken) => {    \r\n        console.log(\"Devices Retrieve\")\r\n        let data = JSON.stringify([\r\n            {\r\n              \r\n            }\r\n          ]);\r\n          \r\n          const corsProxy = 'https://cors-anywhere.herokuapp.com/';\r\n\r\n          let config = {\r\n            method: 'get',\r\n            maxBodyLength: Infinity,\r\n            url: 'https://api.eniris.be/v1/device?id=137206',\r\n            headers: { \r\n              'Content-Type': 'application/json', \r\n              'Authorization': `Bearer ${accessToken}`,\r\n            },\r\n            data : data\r\n          };\r\n          \r\n          try {\r\n            const response = await axios.get(corsProxy + config.url, config);\r\n            return response; // Return the data after successful response\r\n        } catch (error) {\r\n            console.log(error);\r\n            throw error; // Rethrow the error to handle it in HandleLoginEvent if needed\r\n        }\r\n\r\n    }\r\n\r\n    return {\r\n        login,\r\n        logout,\r\n        Accesstoken,\r\n        Devices,\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Authenticate;"],"mappings":"sUAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,SAAS,KAAQ,UAAU,CACpC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,GAAM,CAAAC,OAAO,CAAG,mCAAmC,CAEnD,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CAEvB,GAAM,CAAAC,KAAK,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,QAAQ,CAAEC,QAAQ,MAAAC,IAAA,CAAAC,MAAA,CAAAC,QAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACnCC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC,CACxBT,IAAI,CAAGU,IAAI,CAACC,SAAS,CAAC,CACtB,UAAU,CAAEb,QAAQ,CACpB,UAAU,CAAEC,QAChB,CAAC,CAAC,CAEEE,MAAM,CAAG,CACbW,MAAM,CAAE,MAAM,CACdC,aAAa,CAAEC,QAAQ,CACvBC,GAAG,CAAE,6CAA6C,CAClDC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDhB,IAAI,CAAGA,IACP,CAAC,CAAAK,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAG0B,CAAAlB,KAAK,CAAC4B,IAAI,CAAChB,MAAM,CAACc,GAAG,CAAEf,IAAI,CAAEC,MAAM,CAAC,QAArDC,QAAQ,CAAAG,QAAA,CAAAa,IAAA,QAAAb,QAAA,CAAAc,MAAA,UACPjB,QAAQ,CAACF,IAAI,UAAAK,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAe,EAAA,CAAAf,QAAA,aAEpBG,OAAO,CAACC,GAAG,CAAAJ,QAAA,CAAAe,EAAM,CAAC,CAAC,MAAAf,QAAA,CAAAe,EAAA,0BAAAf,QAAA,CAAAgB,IAAA,MAAAxB,OAAA,iBAI1B,kBAzBK,CAAAL,KAAKA,CAAA8B,EAAA,CAAAC,GAAA,SAAA9B,IAAA,CAAA+B,KAAA,MAAAC,SAAA,OAyBV,CAED,GAAM,CAAAC,MAAM,6BAAAC,KAAA,CAAAjC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAgC,SAAOC,KAAK,MAAA7B,IAAA,CAAAC,MAAA,CAAAC,QAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAA2B,UAAAC,SAAA,iBAAAA,SAAA,CAAAzB,IAAA,CAAAyB,SAAA,CAAAxB,IAAA,SACvBC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,CACzBT,IAAI,CAAG,EAAE,CAETC,MAAM,CAAG,CACbW,MAAM,CAAE,MAAM,CACdC,aAAa,CAAEC,QAAQ,CACvBC,GAAG,CAAE,8CAA8C,CACnDC,OAAO,CAAE,CACL,eAAe,WAAAgB,MAAA,CAAYH,KAAK,CACpC,CAAC,CACD7B,IAAI,CAAGA,IACP,CAAC,CAAA+B,SAAA,CAAAzB,IAAA,GAAAyB,SAAA,CAAAxB,IAAA,SAG0B,CAAAlB,KAAK,CAAC4B,IAAI,CAAChB,MAAM,CAACc,GAAG,CAAEf,IAAI,CAAEC,MAAM,CAAC,QAArDC,QAAQ,CAAA6B,SAAA,CAAAb,IAAA,QAAAa,SAAA,CAAAZ,MAAA,UACPjB,QAAQ,CAACF,IAAI,UAAA+B,SAAA,CAAAzB,IAAA,IAAAyB,SAAA,CAAAX,EAAA,CAAAW,SAAA,aAEpBvB,OAAO,CAACC,GAAG,CAAAsB,SAAA,CAAAX,EAAM,CAAC,CAClB;AAAA,yBAAAW,SAAA,CAAAV,IAAA,MAAAO,QAAA,iBAGP,kBAtBK,CAAAF,MAAMA,CAAAO,GAAA,SAAAN,KAAA,CAAAH,KAAA,MAAAC,SAAA,OAsBX,CAED,GAAM,CAAAS,WAAW,6BAAAC,KAAA,CAAAzC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAwC,SAAOP,KAAK,MAAA7B,IAAA,CAAAC,MAAA,CAAAC,QAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAkC,UAAAC,SAAA,iBAAAA,SAAA,CAAAhC,IAAA,CAAAgC,SAAA,CAAA/B,IAAA,SAC5BC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC,CAC/BT,IAAI,CAAG,EAAE,CAETC,MAAM,CAAG,CACbW,MAAM,CAAE,KAAK,CACbC,aAAa,CAAEC,QAAQ,CACvBC,GAAG,CAAE,mDAAmD,CACxDC,OAAO,CAAE,CACL,eAAe,WAAAgB,MAAA,CAAYH,KAAK,CACpC,CAAC,CACD7B,IAAI,CAAGA,IACP,CAAC,CAAAsC,SAAA,CAAAhC,IAAA,GAAAgC,SAAA,CAAA/B,IAAA,SAG0B,CAAAlB,KAAK,CAACY,MAAM,CAAC,QAA9BC,QAAQ,CAAAoC,SAAA,CAAApB,IAAA,QAAAoB,SAAA,CAAAnB,MAAA,UACPjB,QAAQ,CAACF,IAAI,UAAAsC,SAAA,CAAAhC,IAAA,IAAAgC,SAAA,CAAAlB,EAAA,CAAAkB,SAAA,aAEpB9B,OAAO,CAACC,GAAG,CAAA6B,SAAA,CAAAlB,EAAM,CAAC,CAClB;AAAA,yBAAAkB,SAAA,CAAAjB,IAAA,MAAAe,QAAA,iBAGP,kBAtBK,CAAAF,WAAWA,CAAAK,GAAA,SAAAJ,KAAA,CAAAX,KAAA,MAAAC,SAAA,OAsBhB,CAED,GAAM,CAAAe,OAAO,6BAAAC,KAAA,CAAA/C,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAA8C,SAAOC,WAAW,MAAA3C,IAAA,CAAA4C,SAAA,CAAA3C,MAAA,CAAAC,QAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAA0C,UAAAC,SAAA,iBAAAA,SAAA,CAAAxC,IAAA,CAAAwC,SAAA,CAAAvC,IAAA,SAC9BC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC,CAC3BT,IAAI,CAAGU,IAAI,CAACC,SAAS,CAAC,CACtB,CAEA,CAAC,CACF,CAAC,CAEIiC,SAAS,CAAG,sCAAsC,CAEpD3C,MAAM,CAAG,CACXW,MAAM,CAAE,KAAK,CACbC,aAAa,CAAEC,QAAQ,CACvBC,GAAG,CAAE,2CAA2C,CAChDC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,WAAAgB,MAAA,CAAYW,WAAW,CACxC,CAAC,CACD3C,IAAI,CAAGA,IACT,CAAC,CAAA8C,SAAA,CAAAxC,IAAA,GAAAwC,SAAA,CAAAvC,IAAA,SAGwB,CAAAlB,KAAK,CAAC0D,GAAG,CAACH,SAAS,CAAG3C,MAAM,CAACc,GAAG,CAAEd,MAAM,CAAC,QAA1DC,QAAQ,CAAA4C,SAAA,CAAA5B,IAAA,QAAA4B,SAAA,CAAA3B,MAAA,UACPjB,QAAQ,UAAA4C,SAAA,CAAAxC,IAAA,IAAAwC,SAAA,CAAA1B,EAAA,CAAA0B,SAAA,aAEftC,OAAO,CAACC,GAAG,CAAAqC,SAAA,CAAA1B,EAAM,CAAC,CAAC,MAAA0B,SAAA,CAAA1B,EAAA,0BAAA0B,SAAA,CAAAzB,IAAA,MAAAqB,QAAA,iBAI1B,kBA7BK,CAAAF,OAAOA,CAAAQ,GAAA,SAAAP,KAAA,CAAAjB,KAAA,MAAAC,SAAA,OA6BZ,CAED,MAAO,CACHjC,KAAK,CAALA,KAAK,CACLkC,MAAM,CAANA,MAAM,CACNQ,WAAW,CAAXA,WAAW,CACXM,OAAO,CAAPA,OACJ,CAAC,CAGL,CAAC,CAED,cAAe,CAAAjD,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}